"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var plugin_1 = require("stryker-api/plugin");
var factoryMethods_1 = require("./factoryMethods");
var _1 = require(".");
var log4js_1 = require("log4js");
var typed_inject_1 = require("typed-inject");
function buildChildProcessInjector(config) {
    return typed_inject_1.rootInjector
        .provideValue(plugin_1.commonTokens.config, config)
        .provideFactory(plugin_1.commonTokens.options, factoryMethods_1.optionsFactory)
        .provideValue(plugin_1.commonTokens.getLogger, log4js_1.getLogger)
        .provideFactory(plugin_1.commonTokens.logger, factoryMethods_1.loggerFactory, plugin_1.Scope.Transient)
        .provideFactory(_1.coreTokens.pluginDescriptors, pluginDescriptorsFactory)
        .provideFactory(plugin_1.commonTokens.pluginResolver, factoryMethods_1.pluginResolverFactory);
}
exports.buildChildProcessInjector = buildChildProcessInjector;
function pluginDescriptorsFactory(config) {
    return config.plugins;
}
pluginDescriptorsFactory.inject = plugin_1.tokens(plugin_1.commonTokens.config);
//# sourceMappingURL=buildChildProcessInjector.js.map